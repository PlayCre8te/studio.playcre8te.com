<!-- ===============================
     Media Library â€” Page Container
     =============================== -->
<div class="px-4 sm:px-6 lg:px-8">
  <!-- ====== Header / Uploader ====== -->
  <div class="bg-gray-800 pt-6 pr-6 pl-6 pb-3 rounded-xl max-w-5xl mx-auto text-center mb-6">
    <h2 class="text-2xl font-semibold mb-4">ðŸŽ¥ Media Library</h2>
    <p class="text-gray-300 mb-4">Upload and manage all your media assets.</p>

    <!-- Upload Trigger -->
    <div class="inline-block bg-gray-700 p-4 rounded mb-6">
      <button id="openUploader" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-semibold">
        ðŸ“¤ Upload Media
      </button>
    </div>

    <!-- (Optional) runtime progress rows go here -->
    <div id="uploadProgressContainer" class="space-y-2 mb-4"></div>
  </div>

  <!-- ====================
       Controls (Filter/Sort/Search)
       ==================== -->
  <div class="w-full px-4 mb-6 mt-4">
    <div class="flex flex-col sm:flex-row sm:flex-wrap sm:items-center sm:justify-center gap-4 sm:gap-6 max-w-4xl mx-auto">
      <!-- Filter: Type -->
      <div class="flex items-center space-x-2 whitespace-nowrap">
        <label for="mediaType" class="text-white text-sm">Filter by</label>
        <select id="mediaType" class="bg-gray-800 text-white text-sm p-2 rounded border border-gray-600 w-36">
          <option value="all">All</option>
          <option value="audio">Audio</option>
          <option value="image">Image</option>
          <option value="video">Video</option>
        </select>
      </div>

      <!-- Sort -->
      <div class="flex items-center space-x-2 whitespace-nowrap">
        <label for="mediaSort" class="text-white text-sm">Sort by</label>
        <select id="mediaSort" class="bg-gray-800 text-white text-sm p-2 rounded border border-gray-600 w-52">
          <option value="modified-desc">Modified (Newest â†’ Oldest)</option>
          <option value="modified-asc">Modified (Oldest â†’ Newest)</option>
          <option value="created-desc">Created (Newest â†’ Oldest)</option>
          <option value="created-asc">Created (Oldest â†’ Newest)</option>
          <option value="title-asc">Aâ€“Z (Title)</option>
          <option value="title-desc">Zâ€“A (Title)</option>
          <option value="size-desc">Size (Largest to Smallest)</option>
          <option value="size-asc">Size (Smallest to Largest)</option>
        </select>
      </div>

      <!-- Search -->
      <div class="flex items-center space-x-2 w-full sm:w-auto">
        <label for="mediaSearch" class="text-white text-sm whitespace-nowrap">Search</label>
        <input
          id="mediaSearch"
          type="text"
          placeholder="Title or format (e.g. mp4)"
          class="bg-gray-800 text-white text-sm p-2 rounded border border-gray-600 w-full sm:w-64"
        />
      </div>
    </div>
  </div>

  <!-- =========
       Grid Area
       ========= -->
  <div id="mediaGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-4 pb-20"></div>
</div>

<!-- ===========================================
     Modals (Info, Player, Image, Edit)
     Keep IDs as-is for JS hooks
     =========================================== -->

<!-- =========================
     ðŸŽ¬ Media Player Modal
     (video & audio + thumbnails)
     ========================= -->
<div id="mediaPlayerModal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center p-4 overflow-auto">
  <div class="bg-gray-900 rounded-xl shadow-xl w-full max-w-2xl relative max-h-[90vh] overflow-y-auto">
    <!-- Close -->
    <button id="closePlayerBtn" class="absolute top-4 right-4 text-white text-3xl font-bold hover:text-red-500 z-10">&times;</button>

    <div class="p-4 space-y-4">
      <!-- ðŸ“º Video Player (hidden for audio) -->
      <div id="videoContainer" class="w-full aspect-video hidden">
        <video
          id="modalVideoPlayer"
          class="video-js vjs-default-skin w-full h-full object-contain rounded-xl"
          controls
          preload="auto">
        </video>
      </div>

      <!-- ðŸŽµ Audio Player -->
      <div id="audioContainer" class="hidden w-full px-4">
        <audio
          id="modalAudioPlayer"
          class="w-full rounded-md shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          controls>
        </audio>
      </div>

      <!-- ðŸ–¼ï¸ Thumbnails (video only) -->
      <div id="videoThumbnailsContainer" class="hidden space-y-2">
        <div class="text-white font-semibold">Thumbnails</div>
        <div id="videoThumbnailsGrid" class="grid grid-cols-3 gap-2"></div>
      </div>
    </div>
  </div>
</div>

<!-- ===================
     ðŸ–¼ï¸ Image Preview Modal
     =================== -->
<div id="imagePreviewModal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center p-4 overflow-auto">
  <div class="bg-gray-900 rounded-xl shadow-xl w-full max-w-5xl max-h-[90vh] relative overflow-hidden">
    <!-- Close -->
    <button id="closeImageModalBtn" class="absolute top-4 right-4 text-white text-3xl font-bold hover:text-red-500 z-10">&times;</button>

    <div class="p-6 space-y-4">
      <div class="text-white text-lg font-semibold">Image Previews</div>

      <!-- âœ… Images get injected here -->
      <div id="imagePreviewGrid" class="flex gap-4 justify-start items-center overflow-x-auto max-h-[70vh]"></div>
    </div>
  </div>
</div>

<!-- =====================
     ðŸ“¦ Info Modal (Details)
     ===================== -->
<div id="mediaInfoModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
  <div class="bg-gray-900 text-white p-6 rounded-xl shadow-lg max-w-md w-full relative">
    <!-- Close -->
    <button id="closeModalBtn" class="absolute top-2 right-3 text-gray-300 hover:text-white text-xl">&times;</button>

    <!-- Filled via JS -->
    <div id="modalContent" class="space-y-2 text-sm text-gray-200"></div>
  </div>
</div>

<!-- ======================
     âœï¸ Edit Asset Modal
     ====================== -->
<div id="editAssetModal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center p-4">
  <div class="bg-gray-900 text-white w-full max-w-lg rounded-2xl shadow-xl relative landscape:my-6 landscape:max-w-md">
    <!-- Close -->
    <button id="closeEditModalBtn" class="absolute top-3 right-4 text-2xl leading-none text-gray-300 hover:text-white">&times;</button>

    <div class="p-6 space-y-6">
      <h3 class="text-xl font-semibold">Edit Asset</h3>

      <!-- Rename -->
      <div class="space-y-2">
        <label for="editFileName" class="text-sm text-gray-300">File name</label>
        <input
          id="editFileName"
          type="text"
          class="w-full p-2 rounded bg-gray-800 border border-gray-700 focus:outline-none"
          placeholder="Enter new file name"
        />
        <p class="text-xs text-gray-400">Rename your media.</p>
      </div>

      <!-- Tags -->
      <div class="space-y-3">
        <div class="flex items-center justify-between">
          <label class="text-sm text-gray-300">Tags (max 25)</label>
          <span id="tagCount" class="text-xs text-gray-400">0 / 25</span>
        </div>

        <!-- Tag chips get injected here -->
        <div id="tagChips" class="flex flex-wrap gap-2"></div>

        <!-- Tag input + add -->
        <div class="flex gap-2">
          <input
            id="tagInput"
            type="text"
            class="flex-1 p-2 rounded bg-gray-800 border border-gray-700 focus:outline-none"
            placeholder="Add a tag and press Enter"
          />
          <button id="addTagBtn" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm">Add</button>
        </div>

        <p class="text-xs text-gray-400">Add tags to your media.</p>
      </div>

      <!-- Actions -->
      <div class="flex items-center justify-between pt-4 border-t border-gray-800">
        <button id="deleteAssetBtn" class="px-3 py-2 bg-transparent text-red-400 hover:text-red-300 text-sm">
          Delete asset
        </button>

        <div class="flex gap-2">
          <button id="cancelEditBtn" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded">Cancel</button>
          <button id="saveEditBtn" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>
